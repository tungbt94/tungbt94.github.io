(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{381:function(t,a,e){t.exports=e.p+"assets/img/atomic.9b67dbfd.png"},406:function(t,a,e){"use strict";e.r(a);var s=e(45),n=Object(s.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"custom-vue-storefront-theme"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#custom-vue-storefront-theme"}},[t._v("#")]),t._v(" Custom Vue Storefront theme")]),t._v(" "),s("p"),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#cai-va-chay-sample"}},[t._v("Cài và chạy sample")]),s("ul",[s("li",[s("a",{attrs:{href:"#_1-cai-đat-va-chay-vue-storefront-api"}},[t._v("1. Cài đặt và chạy vue-storefront-api")])]),s("li",[s("a",{attrs:{href:"#_2-tao-1-project-vue-storefront"}},[t._v("2. Tạo 1 project vue-storefront")])])])]),s("li",[s("a",{attrs:{href:"#cau-truc-cua-vsf-theme"}},[t._v("Cấu trúc của VSF theme")])]),s("li",[s("a",{attrs:{href:"#so-luoc-ve-atomic-design"}},[t._v("Sơ lược về Atomic design")])]),s("li",[s("a",{attrs:{href:"#demo"}},[t._v("Demo")]),s("ul",[s("li",[s("a",{attrs:{href:"#tao-theme-moi-tu-default"}},[t._v("Tạo theme mới từ default")])]),s("li",[s("a",{attrs:{href:"#sua-mot-component"}},[t._v("Sửa một component")])]),s("li",[s("a",{attrs:{href:"#them-thu-vien-moi"}},[t._v("Thêm thư viện mới")])])])])])]),s("p"),t._v(" "),s("h2",{attrs:{id:"cai-va-chay-sample"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cai-va-chay-sample"}},[t._v("#")]),t._v(" Cài và chạy sample")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("Yêu cầu")]),t._v(" "),s("ul",[s("li",[t._v("git")]),t._v(" "),s("li",[t._v("nvm và node (>= v8)")]),t._v(" "),s("li",[t._v("docker")]),t._v(" "),s("li",[t._v("editor")])])]),t._v(" "),s("h3",{attrs:{id:"_1-cai-đat-va-chay-vue-storefront-api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-cai-đat-va-chay-vue-storefront-api"}},[t._v("#")]),t._v(" 1. Cài đặt và chạy vue-storefront-api")]),t._v(" "),s("h4",{attrs:{id:"tai-ve-va-dung-docker-compose-đe-chay-cac-service-cho-vue-storefront-api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tai-ve-va-dung-docker-compose-đe-chay-cac-service-cho-vue-storefront-api"}},[t._v("#")]),t._v(" Tải về và dùng docker-compose để chạy các service cho vue-storefront-api")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/DivanteLtd/vue-storefront-api.git vue-storefront-api\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" vue-storefront-api\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" config/default.json config/local.json\ndocker-compose -f docker-compose.yml -f docker-compose.nodejs.yml up -d\n")])])]),s("p",[t._v("Kiểm tra lại các container đã chạy chưa:")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("docker ps\n")])])]),s("p",[t._v("Cần có 4 container đang chạy:")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Container")]),t._v(" "),s("th",[t._v("Port")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("Vue Storefront API app")]),t._v(" "),s("td",[t._v(":8080")])]),t._v(" "),s("tr",[s("td",[t._v("Elasticsearch")]),t._v(" "),s("td",[t._v(":9200")])]),t._v(" "),s("tr",[s("td",[t._v("Kibana")]),t._v(" "),s("td",[t._v(":5601")])]),t._v(" "),s("tr",[s("td",[t._v("Redis")]),t._v(" "),s("td",[t._v(":6379")])])])]),t._v(" "),s("h4",{attrs:{id:"import-dump-data"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#import-dump-data"}},[t._v("#")]),t._v(" Import dump data:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("docker "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exec")]),t._v(" -it vue-storefront-api_app "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" restore\ndocker "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exec")]),t._v(" -it vue-storefront-api_app "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" migrate\ndocker "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exec")]),t._v(" -it vue-storefront-api_app "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" dump\n")])])]),s("h3",{attrs:{id:"_2-tao-1-project-vue-storefront"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-tao-1-project-vue-storefront"}},[t._v("#")]),t._v(" 2. Tạo 1 project vue-storefront")]),t._v(" "),s("h4",{attrs:{id:"đau-tien-chung-ta-can-khoi-tao-project-moi"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#đau-tien-chung-ta-can-khoi-tao-project-moi"}},[t._v("#")]),t._v(" Đầu tiên, chúng ta cần khởi tạo project mới")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("vsf init vsf-theme\n")])])]),s("p",[t._v("Trong tut này mình chọn version v1.12.0(stable) và chọn theme "),s("code",[t._v("Capybara")]),t._v(" cùng "),s("code",[t._v("Manual installation")]),t._v(".")]),t._v(" "),s("h4",{attrs:{id:"sau-khi-project-đa-khoi-tao-xong-copy-file-config"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sau-khi-project-đa-khoi-tao-xong-copy-file-config"}},[t._v("#")]),t._v(" Sau khi project đã khởi tạo xong, copy file config:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" config/default.json config/local.json\n")])])]),s("h4",{attrs:{id:"tu-version-1-12-chung-ta-can-them-buoc-cai-theme"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tu-version-1-12-chung-ta-can-them-buoc-cai-theme"}},[t._v("#")]),t._v(" Từ version 1.12 chúng ta cần thêm bước cài theme:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("vsf init:theme\n")])])]),s("p",[t._v("Đến thời điểm hiện tại mới chỉ có 2 theme "),s("code",[t._v("default")]),t._v(" và "),s("code",[t._v("Capybara")]),t._v(" được chọn, nên cứ chọn default cho nhẹ nhàng hoặc Capybara cho đẹp. Theme mới sẽ là 1 project nằm trong folder "),s("code",[t._v("src/themes")]),t._v(" Sau khi cài xong mở file "),s("code",[t._v("config/local.json")]),t._v(" để kiểm tra xem đúng theme mình mong muốn chưa. Ví dụ chọn theme default thì trong file "),s("code",[t._v("config/local.json")]),t._v(" sẽ có dòng:")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('"theme": "@vue-storefront/theme-default", // default là tên theme\n')])])]),s("p",[t._v("Sau khi thêm theme xong chạy lại yarn để "),s("code",[t._v("lerna")]),t._v(" nhận.")]),t._v(" "),s("h4",{attrs:{id:"sau-đo-dung-docker-compose-đe-run-project"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sau-đo-dung-docker-compose-đe-run-project"}},[t._v("#")]),t._v(" Sau đó dùng docker-compose để run project")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("docker-compose up -d\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" dev\n")])])]),s("p",[t._v("Lúc này bạn mở "),s("a",{attrs:{href:"http://localhost:3000/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://localhost:3000/"),s("OutboundLink")],1),t._v(" sẽ thấy project đang chạy.")]),t._v(" "),s("h2",{attrs:{id:"cau-truc-cua-vsf-theme"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cau-truc-cua-vsf-theme"}},[t._v("#")]),t._v(" Cấu trúc của VSF theme")]),t._v(" "),s("p",[t._v("Hiện tại VSF có 2 theme: default và Capybara. Về cơ bản mỗi theme là một project vue thông thường và cấu trúc thư mục của cả 2 theme này giống với cách tổ chức của "),s("a",{attrs:{href:"https://nuxtjs.org/guide/directory-structure/",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("Nuxt")]),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("ul",[s("li",[t._v("components: chứa các Vue component. Cách tổ chức của Capybara sẽ theo "),s("a",{attrs:{href:"https://bradfrost.com/blog/post/atomic-web-design/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Atomic design"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("li",[t._v("layouts: chứa các layout để quy định bố cục các trang.")]),t._v(" "),s("li",[t._v("pages: chứa các page mà người dùng nhìn thấy, mỗi component tương ứng với 1 route tương ứng.")])]),t._v(" "),s("p",[t._v("Các folder khác sẽ khá quen thuộc với bạn nào làm với Vue, các bạn có thể tham khảo thêm tại "),s("a",{attrs:{href:"https://docs.vuestorefront.io/guide/core-themes/themes.html#important-theme-files",target:"_blank",rel:"noopener noreferrer"}},[t._v("đây"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("h2",{attrs:{id:"so-luoc-ve-atomic-design"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#so-luoc-ve-atomic-design"}},[t._v("#")]),t._v(" Sơ lược về Atomic design")]),t._v(" "),s("p",[t._v("Capybara follow theo Atomic design nên mình khá thích. Việc chia giao diện thành component vốn là vấn đề không dễ thống nhất trong team frontend. Khi thấy "),s("code",[t._v("Nuxt")]),t._v(" chia cấu trúc thành page, layout, các components việc tổ chức component đã nhẹ đi phần nào nhưng chưa triệt để. Vậy Atomic design là gì?")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("Atomic design is methodology for creating design systems. There are five distinct levels in atomic design:\n1. Atoms\n2. Molecules\n3. Organisms\n4. Templates\n5. Pages\n")])])]),s("p",[s("img",{attrs:{src:e(381),alt:"Atomic design"}})]),t._v(" "),s("p",[t._v("Khi nhìn sang các theme của VSF thì "),s("code",[t._v("pages")]),t._v(" tương ứng với "),s("code",[t._v("pages")]),t._v(", "),s("code",[t._v("layouts")]),t._v(" tương ứng với "),s("code",[t._v("templates")]),t._v(" trong atomic design. Atoms, Molecules, Organisms sẽ phân chia trong "),s("code",[t._v("components")]),t._v(" như Capybara.")]),t._v(" "),s("h2",{attrs:{id:"demo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#demo"}},[t._v("#")]),t._v(" Demo")]),t._v(" "),s("h3",{attrs:{id:"tao-theme-moi-tu-default"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tao-theme-moi-tu-default"}},[t._v("#")]),t._v(" Tạo theme mới từ default")]),t._v(" "),s("ul",[s("li",[t._v("Copy folder default thành thư mục mới")]),t._v(" "),s("li",[t._v("Sửa config theme trong "),s("code",[t._v("config/local.json")])])]),t._v(" "),s("h3",{attrs:{id:"sua-mot-component"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sua-mot-component"}},[t._v("#")]),t._v(" Sửa một component")]),t._v(" "),s("ul",[s("li",[t._v("Từ trên giao diện chọn 1 phần bất kỳ và nhấn chuột phải, chọn "),s("code",[t._v("Inspect Vue component")]),t._v(". Trong tut này mình sẽ đổi background của "),s("code",[t._v("New")]),t._v(".")]),t._v(" "),s("li",[t._v("Sau đó tìm trong folder theme mới component cần sửa, trong trường hợp này là "),s("code",[t._v("src/themes/default/components/core/ProductTile.vue")]),t._v(".")]),t._v(" "),s("li",[t._v("Thêm css cho "),s("code",[t._v("background-color: orangered;")]),t._v(" cho phần này (nhìn ở cuối component, phần style).")])]),t._v(" "),s("h3",{attrs:{id:"them-thu-vien-moi"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#them-thu-vien-moi"}},[t._v("#")]),t._v(" Thêm thư viện mới")]),t._v(" "),s("p",[t._v("Trong tut này mình sẽ thêm Element UI. Đầu tiên chúng ta cần cài đặt:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" element-ui\n")])])]),s("p",[t._v("Và thêm css vào "),s("code",[t._v("<head>")]),t._v(" trong file "),s("code",[t._v("index.template.html")])]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("rel")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("stylesheet"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("https://unpkg.com/element-ui/lib/theme-chalk/index.css"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[t._v("Và cuối cùng đăng ký plugin trong "),s("code",[t._v("index.js")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Element "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'element-ui'")]),t._v("\nVue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Element"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("Sau đó ở trong "),s("code",[t._v("src/themes/default/components/core/ProductTile.vue")]),t._v(" mình sẽ thêm rate:")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("el-rate")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":value")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("4.6"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("disabled")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("show-score")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("text-color")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("#ff9900"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])])]),s("p",[t._v("Để tổng kết lại thì chúng ta chỉ cần nhớ theme trong VSF cũng là một project Vue như bình thường, để thêm theme mới chỉ cần copy theme default hoặc Capybara và nhớ chỉnh sửa trong "),s("code",[t._v("config/local.json")]),t._v(".")])])}),[],!1,null,null,null);a.default=n.exports}}]);